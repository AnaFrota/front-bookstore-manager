(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00367094"],{"086f":function(e,t,a){"use strict";var i=a("6a0b");t["a"]={findAll:function(e){return i["a"].get("/usuarios",{params:e})},findAllNotPaged:function(){return i["a"].get("/usuarios/all")},save:function(e){return i["a"].post("/usuarios",e)},update:function(e){return i["a"].put("/usuarios",e)},delete:function(e){return i["a"].delete("/usuarios/".concat(e))}}},c10e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{rounded:"0"}},[a("v-data-table",{staticClass:"elevation-1 rounded-t",attrs:{headers:e.headers,items:e.usuarios,"items-per-page":e.pageSize,loading:e.loading,search:e.search,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"indigo lighten-3 rounded-t",attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Usuários")]),a("v-divider",{staticClass:"mx-4 white",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"white--text",attrs:{"append-icon":"mdi-magnify",label:"Procurar...","single-line":"","hide-details":"",dark:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"indigo accent-1",dark:""}},"v-btn",o,!1),i),[e._v(" Novo Usuário ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{width:"410",height:"590"}},[a("v-card-title",{staticClass:"indigo lighten-3"},[a("span",{staticClass:"text-h5 white--text"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nome",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax40],outlined:"",hint:"Digite o nome da usuario",color:"indigo lighten-3",counter:"40"},model:{value:e.usuario.nome,callback:function(t){e.$set(e.usuario,"nome",t)},expression:"usuario.nome"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cidade",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax40],outlined:"",color:"indigo lighten-3",hint:"Digite a cidade da usuario",counter:"40"},model:{value:e.usuario.cidade,callback:function(t){e.$set(e.usuario,"cidade",t)},expression:"usuario.cidade"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Endereço",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax50],outlined:"",color:"indigo lighten-3",hint:"Digite o endereço do usuario",counter:"50"},model:{value:e.usuario.endereco,callback:function(t){e.$set(e.usuario,"endereco",t)},expression:"usuario.endereco"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email",rules:[e.rules.email,e.rules.counterMax50],outlined:"",color:"indigo lighten-3",hint:"Digite o e-mail da usuario",counter:"50"},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.save}},[e._v(" Salvar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Você realmente deseja excluir esse item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Confirmar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{size:"20"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{size:"20"},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1),a("v-divider"),a("v-card",{attrs:{color:"indigo lighten-3",rounded:"0"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"4",sm:"4"}},[a("v-select",{attrs:{items:e.pageSizes,label:"Itens por Página",color:"black","item-color":"black",dark:"",outlined:""},on:{change:e.handlePageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}})],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-pagination",{attrs:{length:e.totalPages,"total-visible":"7","next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",color:"indigo accent-1"},on:{input:e.handlePageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)],1)],1)},o=[],r=a("5530"),n=(a("ac1f"),a("00b4"),a("3d20")),s=a.n(n),l=a("086f"),u={name:"App",data:function(){return{dialog:!1,dialogDelete:!1,loading:!0,search:"",usuarios:[],totalusuarios:0,page:1,totalPages:0,pageSize:5,pageSizes:[5,10,15],usuario:{id:null,nome:"",cidade:"",endereco:"",email:""},headers:[{text:"ID",align:"start",sortable:!0,value:"id"},{text:"Nome",value:"nome"},{text:"Cidade",value:"cidade"},{text:"Endereço",value:"endereco"},{text:"Email",value:"email"},{text:"Ações",value:"actions",sortable:!1}],rules:{required:function(e){return!!e||"Campo obrigatório"},counterMin:function(e){return e&&e.length>=3||"No mínimo 3 caracteres"},counterMax40:function(e){return e&&e.length<=40||"No máximo 40 caracteres"},counterMax50:function(e){return e&&e.length<=50||"No máximo 50 caracteres"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"E-mail invalido."},nome:function(e){var t=/^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$/;return t.test(e)||"Nome inválido."},cidade:function(e){var t=/^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$/;return t.test(e)||"Nome da cidade inválido."}}}},computed:{formTitle:function(){return this.usuario.id?"Editar Usuário":"Novo Usuário"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.loading=!0;var t=this.getRequestParams(this.page,this.pageSize);l["a"].findAll(t).then((function(t){var a=t.data,i=a.content,o=a.totalElements,r=a.totalPages;e.usuarios=i,e.totalusuarios=o,e.totalPages=r,e.loading=!1}))},getRequestParams:function(e,t){var a={};return e&&(a["page"]=e-1),t&&(a["size"]=t),a},handlePageChange:function(e){this.page=e,this.initialize()},handlePageSizeChange:function(e){this.pageSize=e,this.page=1,this.initialize()},editItem:function(e){this.usuario=Object(r["a"])({},e),this.dialog=!0},deleteItem:function(e){this.usuario=Object(r["a"])({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;l["a"].delete(this.usuario.id).then((function(){s.a.fire("Usuário deletado com sucesso","","error"),e.usuario={},e.initialize()})).catch((function(){s.a.fire("Usuário não pode ser deletado","Esse usuário está vinculado a um aluguel","error")})),this.dialogDelete=!1},close:function(){this.dialog=!1,this.$refs.form.resetValidation(),this.dialog||(this.usuario={})},closeDelete:function(){this.dialogDelete=!1},save:function(){var e=this;this.$refs.form.validate()&&(this.usuario.id?l["a"].update(this.usuario).then((function(){s.a.fire("Usuário alterado com sucesso","","success"),e.usuario={},e.initialize()})):l["a"].save(this.usuario).then((function(){s.a.fire("Usuário cadastrado com sucesso","","success"),e.usuario={},e.initialize()})),this.usuario={},this.close())}}},c=u,d=a("2877"),v=a("6544"),g=a.n(v),f=a("8336"),h=a("b0af"),m=a("99d9"),p=a("62ad"),x=a("a523"),b=a("8fea"),k=a("169a"),C=a("ce7e"),z=a("4bd4"),V=a("132d"),w=a("891e"),D=a("0fd9"),_=a("b974"),S=a("2fa4"),P=a("8654"),A=a("71d9"),M=a("2a7f"),N=Object(d["a"])(c,i,o,!1,null,null,null);t["default"]=N.exports;g()(N,{VBtn:f["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:p["a"],VContainer:x["a"],VDataTable:b["a"],VDialog:k["a"],VDivider:C["a"],VForm:z["a"],VIcon:V["a"],VPagination:w["a"],VRow:D["a"],VSelect:_["a"],VSpacer:S["a"],VTextField:P["a"],VToolbar:A["a"],VToolbarTitle:M["b"]})}}]);
//# sourceMappingURL=chunk-00367094.41f2b640.js.map